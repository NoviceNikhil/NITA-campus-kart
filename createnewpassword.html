<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Reconfirmation</title>
    <link rel="stylesheet" href="./project.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        label {
            margin-top: 10px;
            display: block;
            font-weight: bold;
        }

        input[type="password"] {
            padding: 8px;
            margin-top: 5px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 250px;
        }

        p {
            margin-top: 15px;
            color: #555;
            text-align: center;
        }

        h4 {
            margin: 5px 0;
            font-size: 1em;
            font-weight: normal;
        }

        a {
            color: #007bff;
            text-decoration: none;
        }

        a:hover {
            font-size: 22px;
            text-decoration: underline;
        }

        #loginLink {
            margin-top: 20px;
            text-align: center;
        }

        #loginLink a {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
        }

        #loginLink a:hover {
            background-color: #367c39;
            text-decoration: none;
        }
    </style>
    <script>
        function checker() {
            let newPassword = document.getElementById("Newpassword").value;
            let reconfirmedPassword = document.getElementById("reconfirmpassword").value;
            let p = document.getElementById("loginLink");  // Get the p element

            if (newPassword === reconfirmedPassword) {
                p.style.visibility = "visible";
            } else {
                alert("The reconfirmed password is incorrect. Please enter reconfirmation again.");
                document.getElementById("reconfirmpassword").value = "";
                p.style.visibility = "hidden";  // Keep it hidden on error
            }
        }
        function passwordcriteria(){
            let newPassword = document.getElementById("Newpassword").value;
            r1=new RegExp(/[A-Z]+/);
            r2=new RegExp(/[a-z]+/);
            r3=new RegExp(/[@#$%^&*()!]/);
            if(newPassword.search(r1)!=-1 && newPassword.search(r2)!=-1 && newPassword.search(r3)!=-1 && newPassword.length>8){
                console.log("valid password")
            }
            else{
                alert("Password does not meet requirements");
                let newPassword = document.getElementById("Newpassword");
                newPassword.value="";
            }

        }
        document.addEventListener('DOMContentLoaded', function() {
            let ele=document.getElementById("Newpassword");
            ele.addEventListener("keydown",function(event){
            if (event.key === "Enter"||event.key==="Tab") {
                    passwordcriteria();
                }
                });
            let ele2 = document.getElementById("reconfirmpassword");
            ele2.addEventListener("keydown", function(event) {
                if (event.key === "Enter"||event.key==="Tab") {
                    checker();
                }
            });
        });
    </script>
</head>
<body>
    <label for="Newpassword">New Password:</label>
    <input type="password" id="Newpassword" name="newpassword" required><br>
    <p><h4>password needs to have one capital letter[A-Z] </h2>
    <h4>password needs to have one lowercase letter[a-z]</h4>
<h4>password needs to be of minimum legth of 8 characters </h4></p>
    <label for="reconfirmpassword">Reconfirm Password:</label>
    <input type="password" id="reconfirmpassword" name="recofirm" required><br><br>

    <p id="loginLink" style="visibility: hidden;">Proceed to login once password is reconfirmed <a href="user_login.html">Login Here</a></p>
</body>
</html>
